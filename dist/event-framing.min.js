var eventFraming=function(){function k(a,b){var l=this;this.index=a;this.fn=b;return function(a){m(l,a)}}function m(a,c){-1==b.indexOf(a.index)&&(c&&a.fn(),b.unshift(a.index));e||(e=!0,g=setTimeout(function(){for(var a=b.length-1;0<=a;a--){if(d[b[a]])d[b[a]]();b.splice(a,1)}e=!1},h))}var c={},d={},b=[],e=!1,f=0,h=200,g;c.register=function(a){if("function"!==typeof a)console.error("Not a function");else return f++,d[f]=a,console.log(d),new k(f,a)};c.unregister=function(a){delete d[a]};c.setTimer=function(a){h=
a};c.clear=function(){clearTimeout(g);b=[];e=!1};return c}();
